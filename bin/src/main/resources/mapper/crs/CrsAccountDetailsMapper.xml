<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.oyo.accouting.mapper.crs.CrsAccountDetailsMapper">

    <resultMap id="BaseResultMap" type="com.oyo.accouting.bean.AccountDetailsDto" >
        <id column="id" property="id" />
        <result column="hotel_id" property="hotelId" />
        <result column="name" property="name" />
        <result column="bank_name" property="bankName" />
        <result column="bank_address" property="bankAddress" />
        <result column="bank_account_no" property="bankAccountNo" />
        <result column="account_type" property="accountType" />
        <result column="bank_ifsc_code" property="bankIfscCode" />
        <result column="bank_micr_code" property="bankMicrCode" />
        <result column="created_at" property="createdAt" />
        <result column="updated_at" property="updatedAt" />
        <result column="item_id" property="itemId" />
        <result column="item_type" property="itemType" />
        <result column="service_tax_no" property="serviceTaxNo" />
        <result column="pan_no" property="panNo" />
        <result column="vat_no" property="vatNo" />
        <result column="cst_no" property="cstNo" />
        <result column="credit_limit" property="creditLimit" />
        <result column="credit_usage_ueriod" property="creditUsagePeriod" />
        <result column="last_billed_date" property="lastBilledDate"/>
        <result column="settlement_period" property="settlementPeriod"/>
        <result column="discount" property="discount"/>
        <result column="discount_type" property="discountType"/>
        <result column="btc_allowed" property="btcAllowed"/>
        <result column="status" property="status"/>
        <result column="skip_prepaid" property="skipPrepaid"/>
        <result column="walletId" property="walletId"/>
        <result column="ach_status" property="achStatus" />
        <result column="share_pc" property="sharePc" />
        <result column="coupon_allowed" property="couponAllowed" />
        <result column="billing_cycle" property="billingCycle" />
        <result column="payment_cycle" property="paymentCycle" />
        <result column="metadata" property="metadata" />
        <result column="fixed_pricing" property="fixedPricing" />
        <result column="generate_invoice" property="generateInvoice" />
        <result column="commission_payout_trigger" property="commissionPayoutTrigger" />
        <result column="aadhar_no" property="aadharNo"/>

    </resultMap>

    <select id="queryAccountDetailsByItemId" resultMap="BaseResultMap" parameterType="java.lang.Long">

        SELECT * FROM account_details ad WHERE item_id = #{itemId} AND item_type = 'Hotel' LIMIT 1

    </select>

</mapper>